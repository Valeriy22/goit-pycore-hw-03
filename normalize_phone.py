import re


def normalize_phone(phone_number: str) -> str:
    """
    Нормалізує телефонний номер до стандартного формату +380XXXXXXXXX.

    Видаляє всі зайві символи, залишаючи тільки цифри та '+'.
    Якщо міжнародний код відсутній — автоматично додає '+38'.

    Параметри:
        phone_number (str): номер телефону у будь-якому форматі

    Повертає:
        str: нормалізований номер у форматі +380XXXXXXXXX
    """
    # Видаляємо всі символи, крім цифр та '+'
    cleaned = re.sub(r"[^\d+]", "", phone_number)

    # Визначаємо правильний префікс
    if cleaned.startswith("+"):
        # Вже є '+' — залишаємо як є
        return cleaned
    elif cleaned.startswith("380"):
        # Є код 380, але без '+' — додаємо тільки '+'
        return "+" + cleaned
    else:
        # Немає міжнародного коду — додаємо '+38'
        return "+38" + cleaned


# --- Приклади використання ---
if __name__ == "__main__":
    raw_numbers = [
        "067\t123 4567",
        "(095) 234-5678\n",
        "+380 44 123 4567",
        "380501234567",
        "    +38(050)123-32-34",
        "     0503451234",
        "(050)8889900",
        "38050-111-22-22",
        "38050 111 22 11   ",
    ]

    sanitized_numbers = [normalize_phone(num) for num in raw_numbers]
    print("Нормалізовані номери телефонів для SMS-розсилки:", sanitized_numbers)
